#! /usr/bin/env python
from __future__ import absolute_import
import requests, base64, json, tweepy, pprint, os, sys, urllib
from unidecode import unidecode

sys.path.append('..')
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'project.settings')

from app.models import Location, Trend, Tweet
from django.core.files import File
from django.core.files.temp import NamedTemporaryFile
from django.conf import settings

import django
django.setup()

countries_coords = {23424768: "307,350,299,354,281,357,267,385,273,409,286,412,323,433,333,463,346,483,345,509,358,509,385,478,393,466,436,442,431,382,372,347", 23424977:"113,152,98,168,89,184,91,210,107,215,140,222,149,230,161,230,173,246,231,230,235,252,239,233,247,224,296,178,315,156,254,168,225,147", 23424900: "99,223,107,248,123,264,145,286,181,302,208,268,194,276,185,278,177,279,167,262,174,250,165,243,162,233,137,225,125,223,106,217", 23424775: "113,96,113,122,117,141,146,145,216,142,262,155,256,167,268,165,282,159,294,158,303,155,307,155,318,150,338,141,364,134,361,97,351,57,268,43,196,43,164,43", 23424856: "1070,123,1084,152,1088,181,1081,209,1077,233,1122,231,1147,198,1123,159,1085,120", 23424975: "525,109,558,98,573,107,573,125,578,135,558,138,542,140,524,139", 23424781: "884,153,852,186,904,236,958,237,966,255,973,265,1021,276,1054,250,1049,216,1053,179,1060,149,1022,135,1008,131,1000,132,997,141,1003,150,1002,161,992,169,961,169,914,162,909,160", 23424936: "671,77,771,45,943,18,1033,47,1139,61,1173,89,1163,136,1083,158,1023,131,1002,126,998,131,998,133,994,135,973,143,915,137,886,145,841,126,804,119,781,130,781,133,767,137,741,135,742,148,746,161,740,163,711,156,664,101", 23424846: "822,306,965,412,1071,426,1202,418,1207,378,1141,321,1074,271,1016,298,1003,279,1003,270,987,270,955,240,922,237,887,231,869,217,865,205,830,188,848,183,858,167,876,155,895,148,913,157,952,160,975,160,996,162,995,141,974,141,949,141,919,140,897,140,881,142,855,139,844,135,833,131,793,125,751,141,744,141,767,217,772,236", 23424908: "508,215,612,200,641,226,711,258,722,283,736,299,747,311,752,317,764,317,774,315,772,331,766,346,746,360,730,392,731,410,731,423,733,443,702,460,702,489,681,508,662,520,639,518,616,415,615,393,603,346,589,345,572,345,542,349,515,340,500,312,493,300,501,263", 23424819: "550,146,576,137,585,142,591,142,591,152,594,157,594,173,585,171,576,171,564,171", 23424950: "537,165,537,176,545,177,543,187,541,198,556,201,562,196,569,185,573,174", 23424748: "1082,429,1032,440,1013,526,1077,547,1178,560,1200,486,1183,433,1130,420,1106,417", 23424834: "221,273,178,304,204,346,225,339,283,298,316,257,225,256,215,258", 23424738: "653,197,656,217,685,225,698,237,723,244,745,285,774,307,789,290,812,266,765,233,760,198,748,168,719,162,704,157", 23424916: "1220,499,1157,590,1247,598,1299,552,1350,402,1289,394,1226,437", 23424925:"529,174,542,178,538,199,527,195", 23424829: "588,125,650,103,682,129,702,139,702,147,676,176,663,182,648,193,610,193", 23424919: "271,379,285,353,314,345,323,359,339,355,347,345,327,339,304,332,303,322,272,322,258,322,246,342,241,348,229,362,230,387,231,407,237,420,239,427,245,440,264,449,269,465,274,521,292,573,308,599,327,605,327,581,343,540,352,520,339,506,334,496,327,485,315,453,312,437,294,424,282,424,268,414,260,402,259,394,265,383,271,376", 1:"57,486,50,500,50,511,50,529,53,542,59,550,69,559,79,567,92,571,108,572,122,568,135,560,146,545,151,529,150,512,147,498,139,482,123,471,108,466,84,465,69,475", 23424868:"1068,176,1064,174,1057,174,1054,178,1049,180,1047,182,1047,186,1047,191,1054,199,1057,203,1062,208,1066,212,1073,208,1077,206,1074,194,1068,192,1065,192,1062,186,1069,182"}

for country in Location.objects.all():
    print country.name
    country.coords = countries_coords.get(country.woeid)
    country.saveSlug()
    country.save()
print "success"